<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    
    <!-- Cache Control for immediate updates -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    
    <!-- DNS Prefetch for older browsers -->
    <link rel="dns-prefetch" href="https://fonts.googleapis.com">
    <link rel="dns-prefetch" href="https://fonts.gstatic.com">
    
    <!-- Preconnect to establish early connection -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Non-blocking font loading using media trick -->
    <link 
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800;900&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" 
      rel="stylesheet"
      media="print"
      onload="this.media='all'"
    >
    <noscript>
      <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800;900&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">
    </noscript>
    <title>SwipeMatch - Find Your Perfect Rental Property or Tenant</title>
    <meta name="description" content="Discover your ideal rental property or tenant with SwipeMatch. Swipe through verified listings, connect with perfect matches, and find your next home or tenant effortlessly.">
    <meta name="author" content="SwipeMatch" />
    <meta name="keywords" content="rental, property, tenant, apartment, house, real estate, matching, swipe for rentals">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://swipematch.lovable.app/">
    <meta property="og:title" content="SwipeMatch - Find Your Perfect Rental Property or Tenant">
    <meta property="og:description" content="Discover your ideal rental property or tenant with SwipeMatch. Swipe through verified listings and connect with perfect matches.">
    <meta property="og:image" content="https://storage.googleapis.com/gpt-engineer-file-uploads/qyGlrqJHe9g2hyHsAc6ZZroRlyF2/social-images/social-1758515231924-ChatGPT Image Sep 21, 2025, 11_01_12 PM.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://swipematch.lovable.app/">
    <meta property="twitter:title" content="SwipeMatch - Find Your Perfect Rental Property or Tenant">
    <meta property="twitter:description" content="Discover your ideal rental property or tenant with SwipeMatch. Swipe through verified listings and connect with perfect matches.">
    <meta property="twitter:image" content="https://storage.googleapis.com/gpt-engineer-file-uploads/qyGlrqJHe9g2hyHsAc6ZZroRlyF2/social-images/social-1758515231924-ChatGPT Image Sep 21, 2025, 11_01_12 PM.png">
    
    <!-- PWA Support -->
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#ff6b35">

    <!-- iOS/Safari PWA Support - Comprehensive Meta Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="SwipeMatch">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-touch-fullscreen" content="yes">

    <!-- Apple Touch Icons - All Required Sizes for iOS -->
    <link rel="apple-touch-icon" href="/icons/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="167x167" href="/icons/apple-touch-icon-167x167.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon-180x180.png">
    <link rel="apple-touch-icon" sizes="1024x1024" href="/icons/apple-touch-icon-1024x1024.png">

    <!-- iOS Splash Screens (Launch Images) for all devices -->
    <!-- iPhone SE, 8, 7, 6s, 6 (4.7" display) -->
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-750-1334.png" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)">
    <!-- iPhone 8 Plus, 7 Plus, 6s Plus, 6 Plus (5.5" display) -->
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-1242-2208.png" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3)">
    <!-- iPhone X, XS, 11 Pro (5.8" display) -->
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-1125-2436.png" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3)">
    <!-- iPhone XR, 11 (6.1" display) -->
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-828-1792.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2)">
    <!-- iPhone XS Max, 11 Pro Max (6.5" display) -->
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-1242-2688.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3)">
    <!-- iPhone 12 mini, 13 mini (5.4" display) -->
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-1080-2340.png" media="(device-width: 360px) and (device-height: 780px) and (-webkit-device-pixel-ratio: 3)">
    <!-- iPhone 12, 12 Pro, 13, 13 Pro, 14 (6.1" display) -->
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-1170-2532.png" media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3)">
    <!-- iPhone 12 Pro Max, 13 Pro Max, 14 Plus (6.7" display) -->
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-1284-2778.png" media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3)">
    <!-- iPhone 14 Pro (6.1" ProMotion display) -->
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-1179-2556.png" media="(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3)">
    <!-- iPhone 14 Pro Max (6.7" ProMotion display) -->
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-1290-2796.png" media="(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3)">
    <!-- iPhone 15, 15 Pro (6.1" Dynamic Island) -->
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-1179-2556.png" media="(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3)">
    <!-- iPhone 15 Plus, 15 Pro Max (6.7" Dynamic Island) -->
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-1290-2796.png" media="(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3)">
    <!-- iPad Mini (7.9" display) -->
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-1536-2048.png" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2)">
    <!-- iPad Air, iPad (10.2") -->
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-1620-2160.png" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2)">
    <!-- iPad Pro 11" -->
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-1668-2388.png" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2)">
    <!-- iPad Pro 12.9" -->
    <link rel="apple-touch-startup-image" href="/splash/apple-splash-2048-2732.png" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2)">

    <!-- Capacitor iOS -->
    <meta name="supported-color-schemes" content="light dark">
    <meta name="color-scheme" content="light dark">
    
    <!-- Performance and Security -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">
    <link rel="icon" type="image/x-icon" href="https://storage.googleapis.com/gpt-engineer-file-uploads/qyGlrqJHe9g2hyHsAc6ZZroRlyF2/uploads/1758515219868-ChatGPT Image Sep 21, 2025, 11_01_12 PM.png">
    
    <!-- Reduced Motion: apply class when user prefers reduced motion -->
    <script>
      if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
        document.documentElement.classList.add('reduce-motion');
      }
    </script>
    <script type="module" src="/src/main.tsx"></script>
  </head>

  <body>
    <div id="root">
      <!-- Static loading screen - renders instantly before React loads -->
      <style>
        #app-loading-screen {
          position: fixed;
          inset: 0;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 50%, #0a0a0a 100%);
          z-index: 9999;
        }
        .flame-container {
          width: 80px;
          height: 100px;
          animation: flame-bounce 1.5s ease-in-out infinite;
          filter: drop-shadow(0 0 30px rgba(255, 107, 53, 0.8)) drop-shadow(0 0 60px rgba(255, 69, 0, 0.5));
        }
        @keyframes flame-bounce {
          0%, 100% { transform: translateY(0) scale(1); }
          50% { transform: translateY(-8px) scale(1.02); }
        }
        .loading-text {
          margin-top: 24px;
          font-family: 'Poppins', system-ui, sans-serif;
          font-size: 28px;
          font-weight: 800;
          background: linear-gradient(90deg, #ff6b35, #ff4500, #ff6b35);
          background-size: 200% 100%;
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
          animation: gradient-shift 3s ease-in-out infinite;
        }
        @keyframes gradient-shift {
          0%, 100% { background-position: 0% 50%; }
          50% { background-position: 100% 50%; }
        }
        .loading-dots {
          display: flex;
          gap: 8px;
          margin-top: 20px;
        }
        .loading-dot {
          width: 8px;
          height: 8px;
          border-radius: 50%;
          background: #ff6b35;
          animation: dot-pulse 1s ease-in-out infinite;
        }
        .loading-dot:nth-child(2) { animation-delay: 0.15s; }
        .loading-dot:nth-child(3) { animation-delay: 0.3s; }
        @keyframes dot-pulse {
          0%, 100% { transform: scale(1); opacity: 0.4; }
          50% { transform: scale(1.3); opacity: 1; }
        }
      </style>
      <div id="app-loading-screen">
        <div class="flame-container">
          <!-- Tinder-style flame - iconic asymmetric shape -->
          <svg viewBox="0 0 64 80" width="100%" height="100%">
            <defs>
              <linearGradient id="tinderFlame" x1="0%" y1="100%" x2="50%" y2="0%">
                <stop offset="0%" stop-color="#FF6B35"/>
                <stop offset="40%" stop-color="#FF4500"/>
                <stop offset="70%" stop-color="#FF3D00"/>
                <stop offset="100%" stop-color="#E64A19"/>
              </linearGradient>
              <linearGradient id="tinderInner" x1="0%" y1="100%" x2="0%" y2="0%">
                <stop offset="0%" stop-color="#FFAB40"/>
                <stop offset="60%" stop-color="#FF9100"/>
                <stop offset="100%" stop-color="#FF6D00"/>
              </linearGradient>
            </defs>
            <!-- Main flame body - Tinder iconic shape -->
            <path d="M32 2C32 2 12 24 12 48C12 62 20 74 32 74C44 74 52 62 52 48C52 40 48 32 44 26C44 26 46 34 42 42C38 50 32 46 32 38C32 30 40 22 40 22C40 22 32 28 28 36C24 44 28 52 32 52C36 52 38 48 38 44C38 38 32 32 32 32" fill="url(#tinderFlame)"/>
            <!-- Inner glow -->
            <ellipse cx="32" cy="54" rx="12" ry="14" fill="url(#tinderInner)" opacity="0.8"/>
          </svg>
        </div>
        <span class="loading-text">SwipeMatch</span>
        <div class="loading-dots">
          <div class="loading-dot"></div>
          <div class="loading-dot"></div>
          <div class="loading-dot"></div>
        </div>
      </div>
    </div>
    
    <!-- Service Worker Registration (no update notifications for native app) -->
    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', async () => {
          try {
            const registration = await navigator.serviceWorker.register('/sw.js');
          } catch (error) {
            // SW registration failed
          }
        });
      }

      // Force cache clear on critical updates - only clear app-related caches
      // Bump version (e.g., 1.0.3 -> 1.0.4) when breaking cache changes are needed
      if (localStorage.getItem('swipematch_last_clear') !== '2.0.0') {
        if ('caches' in window) {
          caches.keys().then(names => {
            names.forEach(name => {
              // Only delete caches with swipematch or tinderent prefix to avoid affecting other origins
              if (name.startsWith('swipematch-') || name.startsWith('tinderent-')) {
                caches.delete(name);
              }
            });
          });
        }
        localStorage.setItem('swipematch_last_clear', '2.0.0');
      }
    </script>
  </body>
</html>
